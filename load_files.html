<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"/>
    <title>CLI.load_files API documentation</title>
    <meta name="description" content=""/>
    <link rel="preload stylesheet" as="style"
          href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css"
          integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
    <link rel="preload stylesheet" as="style"
          href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css"
          integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
    <link rel="stylesheet preload" as="style"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
    <link rel="stylesheet" href="style.css">
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"
            integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
    <script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
    <article id="content">
        <header>
            <h1 class="title">Module <code>CLI.load_files</code></h1>
        </header>
        <section id="section-intro">
            <details class="source">
                <summary>
                    <span>Expand source code</span>
                </summary>
                <pre><code class="python">from typing import List, TextIO
import numpy as np
import sys

if sys.version_info &lt; (3, 9):
    # importlib.resources either doesn&#39;t exist or lacks the files()
    # function, so use the PyPI version:
    import importlib_resources
else:
    # importlib.resources has files(), so use that:
    import importlib.resources as importlib_resources

pkg = importlib_resources.files(&#34;CLI&#34;)
lspath = pkg / &#39;Latent_spaces&#39;
s_length = pkg / &#34;seq_lengths.csv&#34;


def load_family(fname: str) -&gt; np.ndarray:
    &#34;&#34;&#34; Load data from protein family name

    Parameters
    ----------
    fname : str
        Name of protein family

    Returns
    -------
    numpy.ndarray
        The family&#39;s latent space data
    &#34;&#34;&#34;
    try:
        return np.loadtxt(lspath / fname)
    # if a file with that name exists but isn&#39;t valid, treat it as a new filename
    except ValueError:
        load_ls_file(fname)


def load_ls_file(fname: str) -&gt; np.ndarray:
    &#34;&#34;&#34; Load data from new latent space file

    Parameters
    ----------
    fname : str
        Name of file containing latent space data

    Returns
    -------
    numpy.ndarray
        Latent space data from file
    &#34;&#34;&#34;
    # try to read the file
    try:
        return np.loadtxt(fname)
    # if it isn&#39;t a valid latent space, give an error and quit
    except ValueError:
        print(&#34;Invalid file: &#34; + fname)
        print(&#34;Files should contain 30 floats, each float in a separate line.&#34;)
        exit(2)
    # if the file doesn&#39;t exist or can&#39;t be read
    except IOError as err:
        exit(err)


def load_sequence(fname: str) -&gt; str:
    &#34;&#34;&#34; Load sequence from file

    Parameters
    ----------
    fname : str
        Name of a file containing a new sequence

    Returns
    -------
    str
        New sequence
    &#34;&#34;&#34;
    try:
        seq_file: TextIO = open(fname, &#34;r+&#34;)
        return seq_file.read()
    # if the file doesn&#39;t exist or can&#39;t be read
    except IOError as err:
        exit(err)


def get_ls_list() -&gt; List[str]:
    &#34;&#34;&#34;

    Returns
    -------
    List[str]
        List of protein family filenames
    &#34;&#34;&#34;
    ls_list: List[str] = []
    for f in lspath.iterdir():
        ls_list.append(f.name)
    return ls_list


def is_pf(fname: str) -&gt; bool:
    &#34;&#34;&#34; Check if filename is the name of a known protein family

    Parameters
    ----------
    fname : str
        Filename

    Returns
    -------
    bool
    &#34;&#34;&#34;
    if (lspath / (fname + &#39;.txt&#39;)).is_file():
        return True
    return False


latent_space_list: List[str] = get_ls_list()</code></pre>
            </details>
        </section>
        <section>
        </section>
        <section>
        </section>
        <section>
            <h2 class="section-title" id="header-functions">Functions</h2>
            <dl>
                <dt id="CLI.load_files.get_ls_list"><code class="name flex">
                    <span>def <span class="ident">get_ls_list</span></span>(<span>) ‑> List[str]</span>
                </code></dt>
                <dd>
                    <div class="desc"><h2 class="returns">Returns</h2>
                        <dl>
                            <dt><code>List[str]</code></dt>
                            <dd>List of protein family filenames</dd>
                        </dl>
                    </div>
                    <details class="source">
                        <summary>
                            <span>Expand source code</span>
                        </summary>
                        <pre><code class="python">def get_ls_list() -&gt; List[str]:
    &#34;&#34;&#34;

    Returns
    -------
    List[str]
        List of protein family filenames
    &#34;&#34;&#34;
    ls_list: List[str] = []
    for f in lspath.iterdir():
        ls_list.append(f.name)
    return ls_list</code></pre>
                    </details>
                </dd>
                <dt id="CLI.load_files.is_pf"><code class="name flex">
                    <span>def <span class="ident">is_pf</span></span>(<span>fname: str) ‑> bool</span>
                </code></dt>
                <dd>
                    <div class="desc"><p>Check if filename is the name of a known protein family</p>
                        <h2 class="parameters">Parameters</h2>
                        <dl>
                            <dt><strong><code>fname</code></strong> :&ensp;<code>str</code></dt>
                            <dd>Filename</dd>
                        </dl>
                        <h2 class="returns">Returns</h2>
                        <dl>
                            <dt><code>bool</code></dt>
                            <dd>&nbsp;</dd>
                        </dl>
                    </div>
                    <details class="source">
                        <summary>
                            <span>Expand source code</span>
                        </summary>
                        <pre><code class="python">def is_pf(fname: str) -&gt; bool:
    &#34;&#34;&#34; Check if filename is the name of a known protein family

    Parameters
    ----------
    fname : str
        Filename

    Returns
    -------
    bool
    &#34;&#34;&#34;
    if (lspath / (fname + &#39;.txt&#39;)).is_file():
        return True
    return False</code></pre>
                    </details>
                </dd>
                <dt id="CLI.load_files.load_family"><code class="name flex">
                    <span>def <span class="ident">load_family</span></span>(<span>fname: str) ‑> numpy.ndarray</span>
                </code></dt>
                <dd>
                    <div class="desc"><p>Load data from protein family name</p>
                        <h2 class="parameters">Parameters</h2>
                        <dl>
                            <dt><strong><code>fname</code></strong> :&ensp;<code>str</code></dt>
                            <dd>Name of protein family</dd>
                        </dl>
                        <h2 class="returns">Returns</h2>
                        <dl>
                            <dt><code>numpy.ndarray</code></dt>
                            <dd>The family's latent space data</dd>
                        </dl>
                    </div>
                    <details class="source">
                        <summary>
                            <span>Expand source code</span>
                        </summary>
                        <pre><code class="python">def load_family(fname: str) -&gt; np.ndarray:
    &#34;&#34;&#34; Load data from protein family name

    Parameters
    ----------
    fname : str
        Name of protein family

    Returns
    -------
    numpy.ndarray
        The family&#39;s latent space data
    &#34;&#34;&#34;
    try:
        return np.loadtxt(lspath / fname)
    # if a file with that name exists but isn&#39;t valid, treat it as a new filename
    except ValueError:
        load_ls_file(fname)</code></pre>
                    </details>
                </dd>
                <dt id="CLI.load_files.load_ls_file"><code class="name flex">
                    <span>def <span class="ident">load_ls_file</span></span>(<span>fname: str) ‑> numpy.ndarray</span>
                </code></dt>
                <dd>
                    <div class="desc"><p>Load data from new latent space file</p>
                        <h2 class="parameters">Parameters</h2>
                        <dl>
                            <dt><strong><code>fname</code></strong> :&ensp;<code>str</code></dt>
                            <dd>Name of file containing latent space data</dd>
                        </dl>
                        <h2 class="returns">Returns</h2>
                        <dl>
                            <dt><code>numpy.ndarray</code></dt>
                            <dd>Latent space data from file</dd>
                        </dl>
                    </div>
                    <details class="source">
                        <summary>
                            <span>Expand source code</span>
                        </summary>
                        <pre><code class="python">def load_ls_file(fname: str) -&gt; np.ndarray:
    &#34;&#34;&#34; Load data from new latent space file

    Parameters
    ----------
    fname : str
        Name of file containing latent space data

    Returns
    -------
    numpy.ndarray
        Latent space data from file
    &#34;&#34;&#34;
    # try to read the file
    try:
        return np.loadtxt(fname)
    # if it isn&#39;t a valid latent space, give an error and quit
    except ValueError:
        print(&#34;Invalid file: &#34; + fname)
        print(&#34;Files should contain 30 floats, each float in a separate line.&#34;)
        exit(2)
    # if the file doesn&#39;t exist or can&#39;t be read
    except IOError as err:
        exit(err)</code></pre>
                    </details>
                </dd>
                <dt id="CLI.load_files.load_sequence"><code class="name flex">
                    <span>def <span class="ident">load_sequence</span></span>(<span>fname: str) ‑> str</span>
                </code></dt>
                <dd>
                    <div class="desc"><p>Load sequence from file</p>
                        <h2 class="parameters">Parameters</h2>
                        <dl>
                            <dt><strong><code>fname</code></strong> :&ensp;<code>str</code></dt>
                            <dd>Name of a file containing a new sequence</dd>
                        </dl>
                        <h2 class="returns">Returns</h2>
                        <dl>
                            <dt><code>str</code></dt>
                            <dd>New sequence</dd>
                        </dl>
                    </div>
                    <details class="source">
                        <summary>
                            <span>Expand source code</span>
                        </summary>
                        <pre><code class="python">def load_sequence(fname: str) -&gt; str:
    &#34;&#34;&#34; Load sequence from file

    Parameters
    ----------
    fname : str
        Name of a file containing a new sequence

    Returns
    -------
    str
        New sequence
    &#34;&#34;&#34;
    try:
        seq_file: TextIO = open(fname, &#34;r+&#34;)
        return seq_file.read()
    # if the file doesn&#39;t exist or can&#39;t be read
    except IOError as err:
        exit(err)</code></pre>
                    </details>
                </dd>
            </dl>
        </section>
        <section>
        </section>
    </article>
    <nav id="sidebar">
        <h2>Index</h2>
        <div class="toc">
            <ul></ul>
        </div>
        <ul id="index">
            <li><h2 style="font-size: 1.5em;"><a href="api.html">API</a></h2></li>
            <li><h2 style="font-size: 1.5em;"><a href="architecture.html">Architecture</a></h2></li>
            <li><h2 style="font-size: 1.5em;"><a href="index.html">Documentation</a></h2></li>
            <li><h2 style="font-size: 1.5em;"><a href="examples.html">Examples</a></h2></li>
            <li><h2 style="font-size: 1.5em;"><a href="usage.html">Usage</a></h2></li>
            <li><h3>Links</h3>
                <ul>
                    <li><a href="https://github.com/cfogel/CLI">GitHub Repository</a></li>
                    <li><a href="https://pypi.org/project/compbiolab-CLI/">PyPI</a></li>
                </ul>
            </li>

            <li><h3>Super-module</h3>
                <ul>
                    <li><code><a title="CLI" href="api.html">CLI</a></code></li>
                </ul>
            </li>
            <li><h3><a href="#header-functions">Functions</a></h3>
                <ul class="">
                    <li><code><a title="CLI.load_files.get_ls_list"
                                 href="#CLI.load_files.get_ls_list">get_ls_list</a></code></li>
                    <li><code><a title="CLI.load_files.is_pf" href="#CLI.load_files.is_pf">is_pf</a></code></li>
                    <li><code><a title="CLI.load_files.load_family"
                                 href="#CLI.load_files.load_family">load_family</a></code></li>
                    <li><code><a title="CLI.load_files.load_ls_file"
                                 href="#CLI.load_files.load_ls_file">load_ls_file</a></code></li>
                    <li><code><a title="CLI.load_files.load_sequence"
                                 href="#CLI.load_files.load_sequence">load_sequence</a></code></li>
                </ul>
            </li>
        </ul>
    </nav>
</main>
</body>
</html>